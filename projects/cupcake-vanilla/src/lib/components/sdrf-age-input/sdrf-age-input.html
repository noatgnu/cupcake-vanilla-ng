<form [formGroup]="ageForm" class="age-input-form">
  <!-- Range Toggle -->
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" id="isRange" formControlName="isRange">
    <label class="form-check-label" for="isRange">
      Age Range
    </label>
  </div>

  <!-- Single Age Input -->
  @if (!isRange) {
    <div class="row g-2 mb-2">
      <div class="col-sm-3">
        <label for="years" class="form-label">Years</label>
        <input type="number" class="form-control form-control-sm" id="years" 
               formControlName="years" placeholder="0" min="0" max="200">
      </div>
      <div class="col-sm-3">
        <label for="months" class="form-label">Months</label>
        <input type="number" class="form-control form-control-sm" id="months" 
               formControlName="months" placeholder="0" min="0" max="11">
      </div>
      <div class="col-sm-3">
        <label for="days" class="form-label">Days</label>
        <input type="number" class="form-control form-control-sm" id="days" 
               formControlName="days" placeholder="0" min="0" max="31">
      </div>
      <div class="col-sm-3">
        <label for="weeks" class="form-label">Weeks <small class="text-muted">(alternative)</small></label>
        <input type="number" class="form-control form-control-sm" id="weeks" 
               formControlName="weeks" placeholder="0" min="0" max="520">
      </div>
    </div>
    <div class="form-text">
      Use weeks for very young subjects (e.g., "8W" for 8 weeks). Otherwise use years/months/days.
    </div>
  }

  <!-- Age Range Input -->
  @if (isRange) {
    <div class="row g-2 mb-2">
      <div class="col-sm-6">
        <label class="form-label fw-semibold">Start Age</label>
        <div class="row g-1">
          <div class="col-6">
            <label for="rangeStartYears" class="form-label small">Years</label>
            <input type="number" class="form-control form-control-sm" id="rangeStartYears" 
                   formControlName="rangeStartYears" placeholder="0" min="0" max="200">
          </div>
          <div class="col-6">
            <label for="rangeStartMonths" class="form-label small">Months</label>
            <input type="number" class="form-control form-control-sm" id="rangeStartMonths" 
                   formControlName="rangeStartMonths" placeholder="0" min="0" max="11">
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <label class="form-label fw-semibold">End Age</label>
        <div class="row g-1">
          <div class="col-6">
            <label for="rangeEndYears" class="form-label small">Years</label>
            <input type="number" class="form-control form-control-sm" id="rangeEndYears" 
                   formControlName="rangeEndYears" placeholder="0" min="0" max="200">
          </div>
          <div class="col-6">
            <label for="rangeEndMonths" class="form-label small">Months</label>
            <input type="number" class="form-control form-control-sm" id="rangeEndMonths" 
                   formControlName="rangeEndMonths" placeholder="0" min="0" max="11">
          </div>
        </div>
      </div>
    </div>
    <div class="form-text">
      Age range format: "25Y-30Y" or "2Y6M-3Y"
    </div>
  }

  <!-- Validation Messages -->
  @if (ageForm.invalid && ageForm.touched) {
    <div class="alert alert-warning alert-sm mt-2">
      <small>
        <i class="bi bi-exclamation-triangle me-1"></i>
        Please enter valid age values (0-200 years, 0-11 months, 0-31 days)
      </small>
    </div>
  }
</form>
